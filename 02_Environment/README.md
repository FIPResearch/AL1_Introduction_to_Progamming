# Pythonの開発環境

ここではPythonの開発環境について説明します．

--- 

### Pythonコードを実行する方法

プログラミング言語で書かれたコードは，実行する前にコンピュータがさらに実行しやすい形式・表現に"変換"(あるいは"解釈")する必要があります．

Pythonでは「インタプリタ」と呼ばれるソフトウェアを使ってコードを上から一行ずつ解釈し実行します．
このインタプリタはプログラマ自身で用意する必要があるわけですが，この講義ではGoogleが提供する「Colaboratory」に搭載されているインタプリタを利用します．
Colaboratoryは非常に強力なクラウド統合開発環境(クラウドIDE)です．
Colaboratoryはインタプリタだけでなくエディタ機能を搭載したクラウド統合開発環境(クラウドIDE)ですので，コードの編集も容易に行えます．
Colaboratoryの主な特徴を以下にまとめます．

- Jupyter Notebookをベースとしており，Webブラウザ上で開発可能．
- Google提供の強力なサーバーを利用できる．環境構築が不要．
- Google Driveと連携できる．ネットワークさえつながればどこでも開発可能．

以上の特徴から，Colaboratoryは初学者から研究者まで幅広い層に人気の開発環境です．
Colaboratoryには様々な機能がありますが，ここでは詳しくは説明しません． 知りたい方はぜひインターネットで検索して調べてみてください．

Google Colaboratory  
https://colab.research.google.com/

--- 

### Colaboratoryを使うための準備

はじめに，Colaboratoryで新しくコードを作成する手順を説明します．

##### Colaboratoryでコードを生成する手順
1. まずは Colaboratory にアクセスします．その際，Googleへのログインを求められます．Googleアカウントがなければ作成してください．  
1. 新しいPythonコードを作成してみましょう．コードの作成方法は以下のいずれかになります．
 1. Colaboratoryにアクセスした際に出るポップアップウィンドウの「ノートを新規作成する」を押す．
 1. Colaboratoryの画面にある，``ファイル > ノートブックを新規作成``を押す．
1. 新しいPythonコードとして`Untitled0.ipynb`が生成されます．このコードはGoogle Driveに自動で保存されます．保存先のフォルダはGoogle Drive内の ``マイドライブ > Colab Notebooks ``フォルダです．
1. ファイル名を任意に変更します．

これで準備は完了です．次に，実際にコードを実行してみましょう．

--- 

### コードを実行してみる

それではコードを実行してみましょう．
Colaboratory のエディタには「コードセル」と「コメントセル」があります．
- コードセル：コードを入力するセル．コードを実行することができる．
- コメントセル：コメントを入力するセル．ここに書き込んだ内容はすべてコメントとして実行時に無視される．

コメントセルにコードを入力しても実行されないので注意してください．わかりやすいコードを作成するには，コメントセルを活用することも大切です．コードで実現したい内容を積極的にメモしましょう．

さて，コードセルに次の３行をコピー&ペーストしてください．
````Python
"""
これは練習です．
"""
x = 3						# x に 3 を代入します．
result = x * x + x - 2		# result に 計算結果を代入します．
print(result)				# result の内容を表示します．
````

コードセルを実行するには，コードセルの左にある「実行ボタン」を押します．
サーバーに接続するためにしばらく時間がかかりますが，
コードが実行されて，以下の結果が表示されるはずです．

```
10
```

"10"という表示が出れば成功です．
これでコードの実行は完了です．
実際にやってみると，案外と簡単ですよね？

--- 

### 読みやすいコードを作るには

コードセルやコメントセルは追加できます．セルの上端か下端にカーソルを持ってくると，セルの追加ボタンが現れます．読みやすいコードを作るコツとして，複数の処理を実行したいときに，それぞれの処理をセルで区切ってあげたり，コメントセルを追加することがあります．

もし複数のコードセルをまとめて実行したい場合は，``ランタイム > すべてのセルを実行``を押してください．

### エラーについて

Pythonでは，誤ったコードを実行すると出力画面に「エラー文」が出てきます．
エラー文を活用すると，コードのどこに誤りがあり，どう訂正すればいいかわかります．
エラー文は英語で書かれますが，頑張って理解しましょう．

例えば，以下のコードを実行します．
```Python
# エラー文の例
x = 10
x = x * x + 2 * x + 
print(x)
```
本来は３行目で「`x * x + 2 * x + 1`」と書きたかったのですが，最後の「1」が抜けてしまいました．
Pythonでは「`+`」で終わることは許されませんので，実行した際にエラー文が出ます．
出てくるエラー文は次のようになります．
```
File "<ipython-input-5-1264332d4ee3>", line 3
    x = x * x + 2 * x +
                        ^
SyntaxError: invalid syntax
```
エラー文の最後，「SyntaxError: invalid syntax」と出ています．
日本語で書くと，「構文エラー: 構文が間違っています」と教えてくれているわけですね．
１行目で「line 3」とあるように，コードの３行目が怪しそうです．
エラー文をよく読むと，「`+` の後に何もないのが間違いです」と書かれていることがわかります．

このように，エラー文をもとにコードの修正，いわゆる **デバック** を行います．
ただし，長いコードをデバッグすることはとても骨の折れる作業です．
プログラミングにおいては，まずは小さい処理ごとにコードを書いて，実行してデバッグ，またコードを追加して実行・デバッグ…
と繰り返していくとエラーの出にくいコードを構築しやすいです．

---
### 練習課題：

次のコードを実行しましょう．どんなエラー文が出てくるでしょう？
エラー文をもとにデバッグして実行し，正しい結果を確認しましょう．

[>> `ex2.py`](ex2.py)

> ヒント：  
> Pythonのコードで「全角空白」を使うことは認められていません(ただし，コメント部分では使っても構いません)．
> プログラミングをしていると，気づかないで「全角空白」を入力していることも珍しくありません．
> コードを書いているときには注意しましょう．

---
### 演習課題１：

Colaboratory には「コード共有機能」があります．
それでは練習問題で作成した.ipynbファイルを共有してみましょう．

##### 共有方法

1. ウィンドウ右上の「共有」ボタンを押す．
2. 「一般的なアクセス」の設定で，`制限付き`を`リンクを知っている全員`に変更する．
3. 「リンクをコピー」ボタンを押す．
4. 「完了」ボタンを押す．
5. コピーしたリンクを共有相手に送付する．

--- 
次： [Pythonの基本的な文法(1) : 表示](../03_print)
